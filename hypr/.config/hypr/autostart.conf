# Extra autostart processes
# exec-once = uwsm-app -- my-service

exec-once = waybar
exec-once = elephant
exec-once = walker --gapplication-service
exec-once = helium-browser
exec-once = cursor
exec-once = spotify
exec-once = enable-keyboard-wake

# Workspace 2 monocle mode - maximize and stack all windows
exec-once = ~/.config/hypr/scripts/workspace2-monocle

# Cursor → Workspace 2
windowrule {
  name = cursor-ws-2
  workspace = 2
  match:class = ^(cursor)$
}

# Spotify → Workspace 3
windowrule {
  name = spotify-ws-3
  workspace = 3
  match:class = ^(spotify)$
}

# Web apps → Workspaces 11, 12, 13

# Trillium → Workspace 11
windowrule {
  name = trillium-ws-11
  workspace = 11
  match:class = ^(helium)$
  match:title = .*[Tt]rillium.*
}

# YouTube → Workspace 12
windowrule {
  name = youtube-ws-12
  workspace = 12
  match:class = ^(helium)$
  match:title = .*[Yy]outube.*
}

# ChatGPT → Workspace 13
windowrule {
  name = chatgpt-ws-13
  workspace = 13
  match:class = ^(helium)$
  match:title = .*[Cc]hat[Gg][Pp][Tt].*
}

# Helium Browser → Workspace 1 (default, for any helium windows not matching above)
windowrule {
  name = helium-ws-1
  workspace = 1
  match:class = ^(helium)$
}

# Autostart web apps in their dedicated workspaces
# Use workspace switching before launch to ensure they open in the correct workspace
exec-once = bash -c "sleep 2 && hyprctl dispatch workspace 11 && sleep 0.5 && helium-browser --new-window https://trilium.hjacke.com"
exec-once = bash -c "sleep 3 && hyprctl dispatch workspace 12 && sleep 0.5 && helium-browser --new-window https://youtube.com"
exec-once = bash -c "sleep 4 && hyprctl dispatch workspace 13 && sleep 0.5 && helium-browser --new-window https://chatgpt.com"
