#!/bin/bash
# Adjust underscan via hyprctl (works on Wayland)
H_BORDER=${1:-50}
V_BORDER=${2:-30}

WIDTH=$((1920 - H_BORDER * 2))
HEIGHT=$((1080 - V_BORDER * 2))

export HYPRLAND_INSTANCE_SIGNATURE=$(ls /run/user/1000/hypr/ | head -1)

hyprctl dispatch exec "nvidia-settings -a CurrentMetaMode=\"HDMI-A-1: 1920x1080_120 +0+0 {ViewPortIn=1920x1080, ViewPortOut=${WIDTH}x${HEIGHT}+${H_BORDER}+${V_BORDER}}\""
echo "Applied: ${WIDTH}x${HEIGHT} with ${H_BORDER}px h-border and ${V_BORDER}px v-border"
